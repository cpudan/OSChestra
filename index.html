<!DOCTYPE html>
<html>
  <head>
    <title>osc.js Web Sockets</title>
    <meta charset="UTF-8" />
    <!--
        <link rel="stylesheet" type="text/css" href="piano.css" />
        <meta property="og:image" content="http://mrcoles.com/media/img/piano-visual-mode.png">
        <link rel="image_src" href="http://mrcoles.com/media/img/piano-visual-mode.png" />
    -->
    <script src="bower_components/osc.js/dist/osc-browser.min.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script>
      var port = new osc.WebSocketPort({
        url: "ws://"+window.location.hostname+":8081",
      });
      port.open();
      var mkfreqmsg = function (f) {
        var msg =  { 
          address: "/test/1",
          args: [{type: "f", value: f}]
        };
        return msg;
      };
console.log(mkfreqmsg(440));
      $(document).ready(function() {
        $("#1").click(function() {
          port.send(mkfreqmsg(220*(2**(0/12))));
        });
        $("#2").click(function() {
          port.send(mkfreqmsg(220*(2**(2/12))));
        });
        $("#3").click(function() {
          port.send(mkfreqmsg(220*(2**(4/12))));
        });
        $("#4").click(function() {
          port.send(mkfreqmsg(220*(2**(5/12))));
        });
        $("#5").click(function() {
          port.send(mkfreqmsg(220*(2**(7/12))));
        });
        $("#6").click(function() {
          port.send(mkfreqmsg(220*(2**(9/12))));
        });
        $("#7").click(function() {
          port.send(mkfreqmsg(220*(2**(11/12))));
        });
        $("#8").click(function() {
          port.send(mkfreqmsg(220*2));
        });
      });
    </script>
    </head>
    <body>
      <button id="1">1</button>
      <button id="2">2</button>
      <button id="3">3</button>
      <button id="4">4</button>
      <button id="5">5</button>
      <button id="6">6</button>
      <button id="7">7</button>
      <button id="8">8</button>
    </body>
</html>
